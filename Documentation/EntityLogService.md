## EntityLogService JSON reference

### Top level keys

| Key              | Type                                          | Description                                                  |
| ---------------- | --------------------------------------------- | ------------------------------------------------------------ |
| entity_code      | String                                        | A unique string of any length to describe the entity (Class, Structure or Enum) that has its Clarity print statements referenced by an EntityLogService JSON file.<br/><br/>Multiple Entities can assign `entity_code` values with different lengths.<br/><br/>The `entity_code` value string can include Apple symbols (for example to represent entities from particular modules). <br/><br/>Entity codes are always displayed as the first item in the first line of any Clarity print statement.<br/><br/>Note: the top level EntityLogService JSON object for a particular entity can be distributed into  multiple EntityLogService JSON files. Each file would need a unique name to reside in the single ClarityJSON folder but would be assigned an identical `entity_code` value (all EntityLogService JSON files must be placed at the top level of the ClarityJSON folder). This could be useful for large entities with numerous print statements. |
| entity_functions | Array of JSON objects: see in dedicated table | An array of JSON objects that represent the functions contained in the entity that is represented by the value assigned to `entity_code.` |



### entity_functions key array 

| Key                           | Type                                          | Description                                                  |
| ----------------------------- | --------------------------------------------- | ------------------------------------------------------------ |
| function_number               | Int                                           | A custom number used to identify the function in the console.<br/><br/>The number should be unique to the entity but can remain the default value of 0 if `calculateFunctionNumbersRelativeToEntity` is set to the value true in Settings.json.<br/><br/>The number is displayed in Clarity print statements for function name nodes and in the first line of all other nodes.<br/><br/>The number will be overridden and replaced with the (1-based) index of the function within the `entity_functions` array if `calculateFunctionNumbersRelativeToEntity` is set to true. |
| function_number_always_custom | Bool                                          | A bool that can be used to override the setting `calculateFunctionNumbersRelativeToEntity` (if it is assigned to true) for the particular function. <br/><br/>If this key is set to the value true the value assigned to `function_number` will be displayed in the console to represent the function in all occurrences. |
| function_type                 | String                                        | A character representing a descriptor for the function 'type' category or grouping. Note: 'type' in this instance does not refer to the defined (Swift) type for the function. <br/><br/>The value assigned to `function_type` must be selected from a range of values specified in the  [documentation](Function-type.md ). <br /><br />The exact use of this key is discretional: any value (from the prescribed list) can be used for any 'type' of function, mapped to signify an alternative 'type' or the default value "f" (custom function) can be used for all functions.<br/><br/>The range of function 'type' values included are not intended to be an exhaustive list or the representation of an ideal demarcation. The purpose of differential formatting according to function 'type' is as an additional visual aid that makes it easier to spot anomalies or unexpected paths in the control flow. It is also designed to help developers gain understanding of the functionality of unfamiliar code.<br/><br/>Each function ‘type' character is combined with the custom symbol assigned to the function ‘type' in  [Formatting.json](Formatting.md ) > `function_type_symbols` when displayed in the console. |
| function_nodes                | Array of JSON objects: see in dedicated table | An array of JSON objects each representing a node associated with a specific print statement in the source code that are contained within the implementation body of the function represented by `function_number`.<br/><br/>As a convention the first item in the array should be reserved for the print number of the function itself (not to be confused with its `function_number`). <br/><br/>Note: The function name node type is selected automatically by inclusion of an argument to the print statement `functionName` parameter. Therefore it is possible to omit a dedicated node for the function. In this instance using the `print_number` of any of the other nodes contained in the `function_nodes` array would suffice (Print number is currently not displayed in the console for the function name node type). However this approach is not recommended for the sake of consistency and future proofing. |



### function_nodes key array

| Key                | Type   | Description                                                  |
| ------------------ | ------ | ------------------------------------------------------------ |
| print_number       | Int    | A unique number that is used to reference a specific print statement in the source code. <br/><br/>The default placeholder value of zero is ignored by Clarity.<br/><br/>Important: the print number must be unique throughout a client application. |
| node_type          | Int    | A number that is used to define the ‘node type’ of the node referenced by `print_number`.<br /><br />There are currently three groupings of node type: <br />– Function name (node type 0)<br />– Control flow (node types 1-10) <br />– Reporter (node types 11-12)<br /><br />See the node type [reference](Node-type.md ) for a description of the output rendered for all node types. |
| event_description  | String | **Control flow node types:**<br />A string used to describe the event that occurred at the decision point in the source code that caused the control flow node to resolve to its specified node type.<br /><br />**Reporter node types – Values:**<br />Line1: A string used to name the variable or/and describe the purpose of the variable that has its value(s) automatically listed commencing line 2.<br /><br />**Reporter node types – Errors:**<br />Line1: A string used to name or provide a custom description of the instance returning the Error automatically described on line 2.<br /><br />**Reporter node types – Comments:**<br />Line1: A string used to provide a comment about the source code at the line that contains the print statement for `print_number`.<br /><br />Note: this value is not used for Function name node types |
| effect_description | String | **Control flow node types:**<br />A string used to describe the effect expected to occur as a result of the event described in `event_description`.<br /><br />The effect string is automatically prefixed with the label 'Effect:'<br /><br /><br />If this value is omitted (for Control flow node types) an empty line containing the ‘Effect:' label will be printed to the console.<br /><br />Note: this value is not used for Function name or Reporter node types. |

